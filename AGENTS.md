# บันทึกสำหรับ Agent

เอกสารนี้สรุปการทำงานที่ได้ทำไปแล้ว, ฟีเจอร์ที่เพิ่มเข้ามาใหม่, และขั้นตอนต่อไปที่ต้องทำ

## งานที่ทำไปแล้ว

1.  **เพิ่ม 2 ฟีเจอร์หลักตามที่ร้องขอ:**
    *   **สร้างสารบัญอัตโนมัติ (Table of Contents Generation):** เพิ่มปุ่มในหน้าแก้ไขโน้ต (`NoteEditorModal`) เพื่อสร้างสารบัญจาก Headings (H1, H2, H3, ...) ในเนื้อหา Markdown โดยอัตโนมัติ
    *   **แก้ไข Markdown อัตโนมัติ (Markdown Auto-Correction):** เพิ่มปุ่มในหน้าแก้ไขโน้ตเพื่อจัดระเบียบและแก้ไขรูปแบบของ Markdown เช่น การเปลี่ยนเครื่องหมาย list ให้เป็นแบบเดียวกัน (`-`) และการลบช่องว่างท้ายบรรทัด

2.  **ปรับปรุงโค้ด:**
    *   ได้ทำการปรับปรุง `utils.ts` เพื่อเพิ่มฟังก์ชันสำหรับฟีเจอร์ใหม่
    *   ได้ทำการแก้ไข `NoteEditorModal.tsx` เพื่อเพิ่มปุ่มและฟังก์ชันการทำงานสำหรับฟีเจอร์ใหม่

## การอัปเดตล่าสุด

*   **`utils.ts`:** เพิ่มฟังก์ชัน `generateToc`, `slugify`, และ `correctMarkdown`
*   **`NoteEditorModal.tsx`:** เพิ่มปุ่ม "Generate TOC" และ "Auto-Correct" และเชื่อมต่อกับฟังก์ชันใน `utils.ts`
*   **`package.json`:** เพิ่ม dependency `dompurify` เพื่อความปลอดภัยในการแสดงผล HTML

## สิ่งที่ต้องทำต่อไป

1.  ** τεκμηρίωση (Documentation) ให้ครบถ้วน:**
    *   ไล่เอกสาร JSDoc comments ให้ครบทุกไฟล์ใน `src` และไฟล์อื่นๆ ที่เกี่ยวข้อง
    *   อัปเดต `README.md` ให้สอดคล้องกับฟีเจอร์ใหม่และสถานะล่าสุดของโปรเจกต์

2.  **ทดสอบระบบ (System Testing):**
    *   พยายามรัน development server อีกครั้ง
    *   หากสำเร็จ ให้เขียน script Playwright เพื่อทดสอบฟีเจอร์ใหม่ทั้ง 2 อย่าง และถ่ายภาพหน้าจอเพื่อยืนยันการทำงาน
    *   หากไม่สำเร็จ ให้ข้ามขั้นตอนการทดสอบและแจ้งให้ผู้ใช้ทราบ

3.  **ส่งมอบงาน (Submit):**
    *   หลังจากทำทุกอย่างเสร็จสิ้นแล้ว ให้ทำการ `request_code_review` อีกครั้ง
    *   หากรีวิวผ่าน ให้ `initiate_memory_recording` และ `submit` งาน
